(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{2364:function(e,t,i){"use strict";i.r(t);var o=i(2393).a,i=(i(2468),i(8)),i=Object(i.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{overflow:"hidden"}},[i("an-header",{attrs:{catalog:t.catalog},on:{changeTheme:t.onChangeTheme,changeName:t.changeName,changeAnimation:t.onChangeAnimation}}),i("div",{staticClass:"content"},[i("div",{ref:"anView",staticClass:"view",style:Object.assign({},t.bgStyle)},[i("div",{style:Object.assign({},t.compBgStyle)},[i(t.comp.name,t._b({ref:"comp",tag:"component",on:{handleAddLog:t.handleAddLog,handleSetOption:t.handleSetOption}},"component",t.viewProps,!1),t._l(t.children,function(e){return i(e.name,t._b({key:e.cid,tag:"component",on:{handleSetOption:t.handleSetOption}},"component",t.childViewProps(e),!1))}),1)],1)]),t.showPanel?i("anov-panel",t._b({ref:"panel",staticClass:"panel",on:{handleSetData:t.handleSetData,handleGetData:t.handleGetData,handleLoadPanel:t.handleLoadPanel,handleAddComponent:t.handleAddComponent,handleSyncResource:t.handleSyncResource,handleDelLog:t.handleDelLog}},"anov-panel",t.panelProps,!1)):t._e()],1)],1)},[],!1,null,null,null);t.default=i.exports},2393:function(module,__webpack_exports__,__webpack_require__){"use strict";var _api__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2395),_resource__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2396),lodash__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(86),lodash__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__),anov_ui_src_utils_option_theme__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(890),anov_ui_src_utils_theme_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(12),anov_ui_src_utils_util_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(14),_components_header__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2411),_panel__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2412),anov_ui_src_utils_tween_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2386),_mixin_catalog__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2406);__webpack_exports__.a={data(){return this.themes=anov_ui_src_utils_theme_js__WEBPACK_IMPORTED_MODULE_4__.a,{comp:{name:"",ext:{},ccid:"",children:{}},baseData:{code:"",disName:"",size:[442,246],angle:0,opacity:1},size:{},theme:anov_ui_src_utils_theme_js__WEBPACK_IMPORTED_MODULE_4__.a[0],option:{},optionDes:{},source:{},sourceDes:{},actions:{},actionsDes:{},assets:{},data:[],tween:anov_ui_src_utils_tween_js__WEBPACK_IMPORTED_MODULE_8__.b,cid:"cid1001",resource:{jspaths:["",""],csspaths:["",""],otherpaths:[]}}},computed:{viewProps(){return{cid:this.cid,option:this.option,data:this.data,theme:this.theme,assets:this.assets,tween:this.tween,resource:this.resource,pageOption:{pageTheme:!0},...this.size}},panelProps(){let e;var t,i,o,n=this.comp.ccid,n=n&&this.comp.children[n];return{...e=n?({optionDes:t,actionsDes:i,sourceDes:o}=this.getPanelConfig(n.name),{option:n.option,source:n.source,actions:n.actions,optionDes:t,sourceDes:o,actionsDes:i,children:{disName:n.disName,name:n.name}}):{option:this.option,source:this.source,actions:this.actions,optionDes:this.optionDes,sourceDes:this.sourceDes,actionsDes:this.actionsDes},viewCompName:this.comp.name,baseData:this.baseData,theme:this.theme,ext:this.comp.ext,cid:this.cid,data:this.data,resource:this.resource}},showPanel(){return this.option},bgStyle(){return{background:this.theme.pageBackground}},compBgStyle(){return{opacity:this.baseData.opacity,transform:`rotate(${this.baseData.angle}deg)`,background:-1<this.comp.name.toLowerCase().indexOf("help")?"transparent":Object(anov_ui_src_utils_util_js__WEBPACK_IMPORTED_MODULE_5__.i)(this.theme.background,.3)}},children(){return this.option.children?this.option.children.filter(e=>!1!==e.use):[]}},components:{AnHeader:_components_header__WEBPACK_IMPORTED_MODULE_6__.a,AnovPanel:_panel__WEBPACK_IMPORTED_MODULE_7__.a},mixins:[_mixin_catalog__WEBPACK_IMPORTED_MODULE_9__.a],mounted(){this.initApp(),this.getCompName(),this.init()},methods:{init(){this.getComponent(this.comp.name)},initApp(){window.app={$emit:null,$on:null,$off:null,eventType:{setGlobalVar:"",showComponent:"",hideComponent:""},theme:{},components:{},globalVars:{},getElementByCid:e=>{},getComponentByCid:e=>{}}},childViewProps(e){var{option:t,source:i}=this.comp.children[e.cid];let o=i&&(null==(i=i[i.type])?void 0:i.data);return{option:t,data:o=o&&"object"!=typeof o?JSON.parse(o):o,cid:e.cid,theme:this.theme}},getCompName(){this.comp.name=this.$route.params.id||"AnSingleLine",this.getComponentExt()},getDefaultTheme(){this.themes.some(e=>{if(e.default)return this.theme=e,!0})},handleAddComponent(e){var{option:t,actions:i,source:o,data:n,optionDes:a}=this.getPanelConfig(e.name);Object(anov_ui_src_utils_option_theme__WEBPACK_IMPORTED_MODULE_3__.b)({theme:this.theme,option:t,optionDes:a}),this.$set(this.comp.children,e.cid,{...e,option:t,actions:i,source:o,data:n})},handleLoadPanel(){this.comp.ccid=0<arguments.length&&void 0!==arguments[0]&&arguments[0]?(1<arguments.length?arguments[1]:void 0).cid:null},handleSyncResource(e,t){switch(e){case"jspaths":Object(_resource__WEBPACK_IMPORTED_MODULE_1__.b)(t);break;case"csspaths":Object(_resource__WEBPACK_IMPORTED_MODULE_1__.a)(t)}},getPanelConfig(e){let t=this.$anov[e];if(t)return{...t.getData(),...t.getDataDes()};console.warn(`组件${e}不存在`)},handleSetOption(_ref){var _this$comp$children$c;let{cid,key,value}=_ref;if("string"!=typeof key)console.error(`key:[${key}]格式错误`);else{let cOption=(null==(_this$comp$children$c=this.comp.children[cid])?void 0:_this$comp$children$c.option)||this.option,isUndefined=key.split(".").some(e=>{if(null==(cOption=cOption[e]))return!0});isUndefined||("string"==typeof value&&(value=JSON.stringify(value)),eval(`let cOption = this.comp.children[cid]?.option || this.option; cOption.${key}=`+value))}},getComponent(e){var{option:e,actions:t,source:i,data:o,optionDes:n,sourceDes:a,actionsDes:s}=this.getPanelConfig(e);e&&(this.size={},this.data=o,this.optionDes=n,this.sourceDes=a,this.actionsDes=s,this.option=e,this.source=i,this.actions=t||[],this.handleGetData(),Object(anov_ui_src_utils_option_theme__WEBPACK_IMPORTED_MODULE_3__.b)({theme:this.theme,option:this.option,optionDes:this.optionDes}),this.getBaseData(),app.components[this.cid]={option:this.option,data:this.data})},getBaseData(){setTimeout(()=>{var e=this.$refs.comp;this.baseData.code=this.comp.name,this.baseData.size=[e.width,e.height],this.baseData.opacity=1,this.baseData.angle=0})},changeName(e){this.baseData.disName=e},onChangeTheme(e){this.theme=e,window.app&&(app.theme=e),Object(anov_ui_src_utils_option_theme__WEBPACK_IMPORTED_MODULE_3__.a)({theme:this.theme,option:this.option,optionDes:this.optionDes});let t;Object.keys(this.comp.children).forEach(e=>{t=this.comp.children[e];e=this.getPanelConfig(t.name).optionDes;Object(anov_ui_src_utils_option_theme__WEBPACK_IMPORTED_MODULE_3__.a)({theme:this.theme,option:t.option,optionDes:e})})},reset(){this.option={},this.optionDes={},this.source={},this.actions={},this.actionsDes={},this.data=[],this.comp.ccid="",this.comp.children={}},onChangeAnimation(e){this.tween=e},handleSetData(e){this.data=e,app.components[this.cid].data=e},handleGetData(){var e=this.comp["ccid"];let t=(e&&this.comp.children[e])["source"];e=(t=t||this.source).api.url;e?Object(_api__WEBPACK_IMPORTED_MODULE_0__.a)(e).then(e=>{200==e.status?t.api.data=e.data:t.api.data={error:!0,message:e.data.message}}).catch(e=>{t.api.data={error:!0,message:e.message}}):t.api.data=""},handleAddLog(e){this.$refs.panel.addLog(e)},handleDelLog(e){this.$refs.panel.delLog(e)}},watch:{$route(){this.getCompName(),this.reset(),this.getComponent(this.comp.name)},"baseData.size"(e){this.size={width:e[0],height:e[1]}}}}},2394:function(e,t,i){(e.exports=i(40)(!1)).push([e.i,".content {\n  display: flex;\n  flex: 1 1 auto;\n  height: calc(100vh - 40px);\n  position: relative;\n}\n.content .panel {\n  background: #282c34;\n  flex: 0 1 auto;\n  width: 320px;\n  overflow-y: auto;\n}\n.content .view {\n  flex: 1 1 auto;\n  position: relative;\n  padding: 20px;\n  overflow: auto;\n}\n.content .view > div {\n  position: absolute;\n  padding: 20px 14px;\n}\n",""])},2409:function(t,e,i){var o=i(2394),n=("string"==typeof o&&(o=[[t.i,o,""]]),{hmr:!0}),a=(n.transform=void 0,n.insertInto=void 0,i(41)(o,n));o.locals&&(t.exports=o.locals),t.hot.accept(2394,function(){var e=i(2394);if("string"==typeof e&&(e=[[t.i,e,""]]),!function(e,t){var i,o=0;for(i in e){if(!t||e[i]!==t[i])return!1;o++}for(i in t)o--;return 0===o}(o.locals,e.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");a(e)}),t.hot.dispose(function(){a()})},2468:function(e,t,i){"use strict";i(2409)}}]);