(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{2363:function(e,t,n){"use strict";n.r(t);var o=n(2395),a=n(2396),h=(n(86),n(890)),s=n(12),i=n(14),c=n(2411),p=n(2412),r=n(2386),d=n(2406),c={data(){return this.themes=s.a,{visible:!1,comp:{name:"",ext:{},ccid:"",children:{}},baseData:{code:"",disName:"",size:[442,246],angle:0,opacity:1},size:{},theme:s.a[2],option:{},optionDes:{},source:{},sourceDes:{},actions:{},actionsDes:{},assets:{},data:[],tween:r.b,cid:"cid1001",resource:{jspaths:["",""],csspaths:["",""],otherpaths:[]}}},computed:{viewProps(){return{cid:this.cid,option:this.option,data:this.data,theme:this.theme,assets:this.assets,tween:this.tween,resource:this.resource,...this.size}},panelProps(){let e;var t,n,o,a=this.comp.ccid,a=a&&this.comp.children[a];return{...e=a?({optionDes:t,actionsDes:n,sourceDes:o}=this.getPanelConfig(a.name),{option:a.option,source:a.source,actions:a.actions,optionDes:t,sourceDes:o,actionsDes:n,children:{disName:a.disName,name:a.name}}):{option:this.option,source:this.source,actions:this.actions,optionDes:this.optionDes,sourceDes:this.sourceDes,actionsDes:this.actionsDes},viewCompName:this.comp.name,baseData:this.baseData,theme:this.theme,ext:this.comp.ext,cid:this.cid,data:this.data,resource:this.resource}},showPanel(){return this.option},bgStyle(){return{background:this.theme.pageBackground}},compBgStyle(){return{opacity:this.baseData.opacity,transform:`rotate(${this.baseData.angle}deg)`,background:-1<this.comp.name.toLowerCase().indexOf("help")?"transparent":Object(i.i)(this.theme.background,.3)}}},components:{AnHeader:c.a,AnovPanel:p.a},mixins:[d.a],mounted(){this.initApp(),this.getCompName(),this.init()},methods:{changePanelState(){this.visible=!this.visible},init(){this.getComponent(this.comp.name)},initApp(){window.app={$emit:null,$on:null,$off:null,eventType:{setGlobalVar:"",showComponent:"",hideComponent:""},theme:{},components:{},globalVars:{},getElementByCid:e=>{},getComponentByCid:e=>{}}},childViewProps(e){var{option:t,source:n}=this.comp.children[e.cid];let o=n&&(null==(n=n[n.type])?void 0:n.data);return{option:t,data:o=o&&"object"!=typeof o?JSON.parse(o):o,cid:e.cid}},getCompName(){this.comp.name=this.$route.params.id||"AnSingleLine",this.getComponentExt()},getDefaultTheme(){this.themes.some(e=>{if(e.default)return this.theme=e,!0})},handleAddComponent(e){var{option:t,actions:n,source:o,data:a,optionDes:s}=this.getPanelConfig(e.name);Object(h.b)({theme:this.theme,option:t,optionDes:s}),this.$set(this.comp.children,e.cid,{...e,option:t,actions:n,source:o,data:a})},handleLoadPanel(){this.comp.ccid=0<arguments.length&&void 0!==arguments[0]&&arguments[0]?(1<arguments.length?arguments[1]:void 0).cid:null},handleSyncResource(e,t){switch(e){case"jspaths":Object(a.b)(t);break;case"csspaths":Object(a.a)(t)}},getPanelConfig(e){let t=this.$anov[e];if(t)return{...t.getData(),...t.getDataDes()};console.warn(`组件${e}不存在`)},getComponent(e){var{option:e,actions:t,source:n,data:o,optionDes:a,sourceDes:s,actionsDes:i}=this.getPanelConfig(e);e&&(this.size={},this.data=o,this.optionDes=a,this.sourceDes=s,this.actionsDes=i,this.option=e,this.source=n,this.actions=t||[],Object(h.b)({theme:this.theme,option:this.option,optionDes:this.optionDes}),this.getBaseData(),app.components[this.cid]={option:this.option,data:this.data})},getBaseData(){setTimeout(()=>{var e=this.$refs.comp;this.baseData.code=this.comp.name,this.baseData.size=[e.width,e.height],this.baseData.opacity=1,this.baseData.angle=0})},changeName(e){this.baseData.disName=e},onChangeTheme(e){this.theme=e,window.app&&(app.theme=e),Object(h.a)({theme:this.theme,option:this.option,optionDes:this.optionDes});let t;Object.keys(this.comp.children).forEach(e=>{t=this.comp.children[e];e=this.getPanelConfig(t.name).optionDes;Object(h.a)({theme:this.theme,option:t.option,optionDes:e})})},reset(){this.option={},this.optionDes={},this.source={},this.actions={},this.actionsDes={},this.data=[],this.comp.ccid="",this.comp.children={}},onChangeAnimation(e){this.tween=e},handleSetData(e){this.data=e,app.components[this.cid].data=e},handleGetData(){var e=this.source.api.url;e?Object(o.a)(e).then(e=>{200==e.status?this.source.api.data=e.data:this.source.api.data={error:!0,message:e.data.message}}).catch(e=>{this.source.api.data={error:!0,message:e.message}}):this.source.api.data=""},handleAddLog(e){this.$refs.panel.addLog(e)},handleDelLog(e){this.$refs.panel.delLog(e)}},watch:{$route(){this.getCompName(),this.reset(),this.getComponent(this.comp.name)},"baseData.size"(e){this.size={width:e[0],height:e[1]}}}},p=(n(2467),n(8)),d=Object(p.a)(c,function(){var n=this,e=n.$createElement,o=n._self._c||e;return o("div",{staticStyle:{overflow:"hidden"}},[o("an-header",{attrs:{catalog:[]},on:{changeTheme:n.onChangeTheme}}),o("a-icon",{staticClass:"op-btn",style:{right:n.visible?"320px":"0",color:n.theme.groups[0]},attrs:{type:n.visible?"menu-unfold":"menu-fold"},on:{click:n.changePanelState}}),o("div",{staticClass:"content"},[o("div",{ref:"anView",staticClass:"view",style:Object.assign({},n.bgStyle)},[o("div",{style:Object.assign({},n.compBgStyle)},[o(n.comp.name,n._b({ref:"comp",tag:"component",on:{handleAddLog:n.handleAddLog}},"component",n.viewProps,!1),n._l(n.option.children,function(e,t){return o(e.name,n._b({key:t,tag:"component"},"component",n.childViewProps(e),!1))}),1)],1)]),n.showPanel?o("anov-panel",n._b({ref:"panel",staticClass:"panel",style:{width:n.visible?"320px":"0"},on:{handleSetData:n.handleSetData,handleGetData:n.handleGetData,handleLoadPanel:n.handleLoadPanel,handleAddComponent:n.handleAddComponent,handleSyncResource:n.handleSyncResource,handleDelLog:n.handleDelLog}},"anov-panel",n.panelProps,!1)):n._e()],1)],1)},[],!1,null,"ede5c45a",null);t.default=d.exports},2392:function(e,t,n){(e.exports=n(40)(!1)).push([e.i,".op-btn[data-v-ede5c45a] {\n  top: 42px;\n  right: 2px;\n  color: #6f7683;\n  font-weight: bold;\n  font-size: 22px;\n  position: absolute;\n  z-index: 2;\n  transition: all 0.3s;\n  cursor: pointer;\n}\n.content[data-v-ede5c45a] {\n  display: flex;\n  flex: 1 1 auto;\n  height: calc(100vh - 40px);\n  position: relative;\n}\n.content .panel[data-v-ede5c45a] {\n  background: #282c34;\n  flex: 0 1 auto;\n  width: 0;\n  overflow-y: auto;\n  transition: all 0.3s;\n}\n.content .panel-open[data-v-ede5c45a] {\n  width: 320px;\n}\n.content .view[data-v-ede5c45a] {\n  flex: 1 1 auto;\n  position: relative;\n  padding: 20px;\n  overflow: auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.content .view > div[data-v-ede5c45a] {\n  position: absolute;\n  padding: 20px 14px;\n}\n",""])},2408:function(t,e,n){var o=n(2392),a=("string"==typeof o&&(o=[[t.i,o,""]]),{hmr:!0}),s=(a.transform=void 0,a.insertInto=void 0,n(41)(o,a));o.locals&&(t.exports=o.locals),t.hot.accept(2392,function(){var e=n(2392);if("string"==typeof e&&(e=[[t.i,e,""]]),!function(e,t){var n,o=0;for(n in e){if(!t||e[n]!==t[n])return!1;o++}for(n in t)o--;return 0===o}(o.locals,e.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");s(e)}),t.hot.dispose(function(){s()})},2467:function(e,t,n){"use strict";n(2408)}}]);